# 爬取豆瓣读书
爬取豆瓣读书下任意标签的所有图书，然后保存在数据库中！
</br>在爬取的过程中，可能会遇到一本书，有几个标签，所以就会遇到重复的问题!
</br>我用MySQL数据进行去重，插入数据前，判断数据库中是否已经存在数据了！

豆瓣读书所有标签
![豆瓣读书的标签](https://github.com/JXiuFen/-/blob/master/%E8%B1%86%E7%93%A3%E8%AF%BB%E4%B9%A6%E6%A0%87%E7%AD%BE.png?raw=true)

标签下的图书
![所有的图书](https://github.com/JXiuFen/-/blob/master/%E8%B1%86%E7%93%A3%E8%AF%BB%E4%B9%A6%E5%9B%BE%E4%B9%A6.png?raw=true)



程序运行后，手动输入你要爬取的图书标签
![程序运行](https://github.com/JXiuFen/-/blob/master/%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C.png?raw=true)


程序运行中，在爬取指定的标签下的所有图书
![爬取中](https://github.com/JXiuFen/-/blob/master/%E7%88%AC%E5%8F%96%E4%B8%AD.png?raw=true)



把爬取到的数据，保存到MySQL数据库中
![保存数据](https://github.com/JXiuFen/-/blob/master/%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98.png?raw=true)



总结：第一点：在爬取的过程中，尽量设置久一点的time.sleep(3)，3到5秒这样，因为爬取太快，会直接被检测出来然后便是封IP，也对服务器造成影响！原本打算用ip代理来突破封ip，但发现网上那些免费的ip代理。十个有九个不能用的，剩下那个还响应贼慢。所以我选择设置时间来控制爬虫的进度来防止被反爬虫。

</br>第二点：在获取数据的过程中，遇到了很多问题，比如，有一些书，没有作者、没有出版社、出版年.....等等一大堆问题。这个时候，你就要判断，是抓取的有没有数据。如果没有数据，那就赋值一个空！不进行判断，就会出现超出列表索引范围的报错！

</br>第三点：还有就是一开始就说过的，就是一本书可能有好几个标签，这个时候你就要去重。我利用MySQL在进行保存是来判断库中是否已经存在数据了！是那便忽略，否那就插入数据！

</br>温馨提示：把一个标签下的所有图书全部爬取下来，需要好几个小时！所有在爬取的途中要保证网络不会中断，不然，就要重新爬过咯！
